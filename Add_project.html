<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">



    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <link rel="stylesheet" href="ERPstyle.css">
    <link href='http://fonts.googleapis.com/css?family=Nato<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">' rel='stylesheet' type='text/css'>
    
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    
    <link rel="stylesheet" href="css/loader.css"\>

    <script type="text/javascript" src="js/angular.min.js"></script>

    <script type="text/javascript" src="js/angular-route.js"></script>

    <script type="text/javascript" src="js/ang/main.js"></script>

    <script type="text/javascript" src="js/ang/login.js"></script>


    <title>HR made easy</title>
</head>

<body>




    <div class="container">

        <div class="row tpband">
            <div class="col-sm-6 col-sm-offset-3 ">
                <a href="#"><img src="imgs/back_icon_grey.svg" alt="back" id="backbtn" width=50px style="border:thick"></a>
                <a href="#help" target="_blank"><img src="imgs/help_grey.svg" id="help_pos" width=44px></a>
                
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 col-sm-offset-3 ">
                <h2 class="pghdgs">Add New Project</h2>
            </div>
        </div>

        <div ng-include="'response.html'"></div>

        <div class="row">
            <div class="col-sm-6 col-sm-offset-3 makpg">
                
                
                <div class="row ropad">
                    
                <div class=" form-group">
                    <label for="usr">Project title </label>
                    <input id="basic" type="text" class="form-control set_sal" ng->
                    
                </div>
                </div>
                
                <div class="row ropad grrow lacmarg">
            
                
                 <div class=" form-group">
                    <label for="pwd">Add Team menbers</label>
                    <!--<input type="emil id" class="form-control" >-->
                    <select name="allowance" class="form-control forpad" ng-model="allowance " focus-me="{{allowanceError && !allowance}}">
                        <option value="">Select allowance</option>
                        <option value="HRA">H.R.A.(% of base salary)</option>
                        <option value="Conveyance">Conveyance (% of base salary)</option>
                        <option value="Custom">Custom</option>
                    </select>
                     <p ng-show="allowanceError && !allowance" style="color:red">Please select a value</p>
                </div>
                <button type="button" class="btn  btn-xs adbtun " ng-click="add('add')"><span><img src="imgs/n_addbtn.svg" alt="back" id="closbtn" width=40px data-toggle="tooltip" title="Add allowance" ></span></button>
                
                    
                </div>
                <!--<div class=" form-group" ng-repeat="salary in user.company.salaryInfo">
                    <label for="usr">{{salary.rule}}</label>
                    <input type="number" class="form-control set_sal" ng-model="salary.percentage">
                    <button type="button" class="btn btn-secondary btn-lg btn-block butte" ng-click="remove(salary)">Remove</button>
                </div>-->

                <div class="row" ng-repeat="salary in user.company.salaryInfo">
                    <div class="levcard2 crcompt" ng-show="salary.type == 'add'">

                        <button type="button" class="btn btn-xs crs crdown" ng-click="remove(salary)">
                            <span><img src="imgs/clear-button.png" alt="back" id="closbtn" width=20px ></span>&nbsp;
                        </button>

                        <div class=" form-group forpad">
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="usr" ng-show="!salary.customRule">{{salary.rule}}</label>
                                    <input type="text" class="form-control set_sal" ng-model="salary.rule" ng-show="salary.customRule" focus-me="{{salary.error && !salary.rule}}">
                                </div>
                                <div class="col-md-4">
                                    <input type="number" class="form-control set_sal" ng-model="salary.percentage" focus-me="{{salary.error && !salary.percentage}}">
                                </div>
                                <div class="col-md-3">
                                    <select class="form-control" ng-model="salary.amountType" focus-me="{{salary.error && !salary.amountType}}">
                                        <option value="percentage">%</option>
                                        <option value="amount">Rs./-</option>
                                    </select>
                                </div>
                            </div>
                            <p ng-show="salary.error && (!salary.rule || !salary.percentage || (salary.percentage > 100 && salary.amountType=='percentage'))" style="color:red">Please enter all valid values</p>
                        </div>

                    </div>
                </div>

               

               
                <hr>
                
                <div class="row ropad grrow lacmarg">

                
                <div class=" form-group">
                    <label for="pwd">Add deductions</label>
                    <!--<input type="emil id" class="form-control" >-->
                    <select name="deduction" class="form-control forpad" ng-model="deduction" focus-me="{{deductionError && !deduction}}">
                        <option value="">Select deduction</option>
                        <option value="Provident fund">Provident Fund</option>
                        <option value="Professional Tax">Professional Tax</option>
                        <option value="Custom">Custom</option>
                    </select>
                    <p ng-show="deductionError && !deduction"  style="color:red">Please select a value</p>
                </div>
                <button type="button" class="btn  btn-xs adbtun" ng-click="add('sub')"><span><img src="imgs/n_addbtn.svg" alt="back" id="closbtn" width=40px data-toggle="tooltip" title="Add deduction"></span></button>
                
                
            </div>
                
                <div class="row" ng-repeat="salary in user.company.salaryInfo">
                    <div class="levcard2 crcompt" ng-show="salary.type == 'sub'">

                        <button type="button" class="btn btn-xs crs crdown" ng-click="remove(salary)">
                            <span><img src="imgs/clear-button.png" alt="back" id="closbtn" width=20px ></span>&nbsp;
                        </button>

                        <div class=" form-group forpad">
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="usr" ng-show="!salary.customRule">{{salary.rule}}</label>
                                    <input type="text" class="form-control set_sal" ng-model="salary.rule" ng-show="salary.customRule" focus-me="{{salary.error && !salary.rule}}">
                                </div>
                                <div class="col-md-4">
                                    <input type="number" class="form-control set_sal" ng-model="salary.percentage" focus-me="{{salary.error && !salary.percentage}}">
                                </div>
                                <div class="col-md-3">
                                    <select class="form-control" ng-model="salary.amountType" focus-me="{{salary.error && !salary.amountType}}">
                                        <option value="percentage">%</option>
                                        <option value="amount">Rs./-</option>
                                    </select>
                                </div>
                            </div>
                            
                            <p ng-show="salary.error && (!salary.rule || !salary.percentage || (salary.percentage > 100 && salary.amountType=='percentage'))" style="color:red">Please enter all valid details</p>
                        </div>

                    </div>
                </div>
                
                <hr size="30">

                <div class="frbtnonpg">
                <button type="button" class="btn btn-secondary btn-lg btn-block" data-toggle="modal" data-target="#myModal">Save Structure </button>
                </div>

                <!-- Modal -->
                <div id="myModal" class="modal fade" role="dialog">
                    <div class="modal-dialog ">

                        <!-- Modal content-->
                        <div class="modal-content" style="text-align: center;">
                            <div class="modal-header" style="border:none">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>

                            </div>
                            <div class="modal-body">
                                <p>Are you sure you want to save Salary structure?
                                    <br>Changes may affect salary break-up of current employees as well</p>
                            </div>
                            <div class="modal-footer" style="border:none">
                                <!--<button type="button" class="btn btn-secondary btn-lg btn-block btnmod_allign" data-dismiss="modal">No</button>-->

                                <button type="button" class="btn btn-secondary btn-lg btn-block " data-dismiss="modal" ng-click="save()">Save</button>
                            </div>
                        </div>

                    </div>
                </div>
                <br>



            </div>
        </div>
    </div>


</body>


</html>